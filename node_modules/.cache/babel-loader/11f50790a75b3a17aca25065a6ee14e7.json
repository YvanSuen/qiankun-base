{"remainingRequest":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\babel-loader\\lib\\index.js!D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\qiankun\\es\\effects.js","dependencies":[{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\qiankun\\es\\effects.js","mtime":1631881155000},{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618900774989},{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\babel-loader\\lib\\index.js","mtime":1618886346176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBhdXRob3IgS3VpdG9zCiAqIEBzaW5jZSAyMDE5LTAyLTE5CiAqLwppbXBvcnQgeyBnZXRNb3VudGVkQXBwcywgbmF2aWdhdGVUb1VybCB9IGZyb20gJ3NpbmdsZS1zcGEnOwp2YXIgZmlyc3RNb3VudExvZ0xhYmVsID0gJ1txaWFua3VuXSBmaXJzdCBhcHAgbW91bnRlZCc7CgppZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHsKICBjb25zb2xlLnRpbWUoZmlyc3RNb3VudExvZ0xhYmVsKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRNb3VudEFwcChkZWZhdWx0QXBwTGluaykgewogIC8vIGNhbiBub3QgdXNlIGFkZEV2ZW50TGlzdGVuZXIgb25jZSBvcHRpb24gZm9yIGllIHN1cHBvcnQKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2luZ2xlLXNwYTpuby1hcHAtY2hhbmdlJywgZnVuY3Rpb24gbGlzdGVuZXIoKSB7CiAgICB2YXIgbW91bnRlZEFwcHMgPSBnZXRNb3VudGVkQXBwcygpOwoKICAgIGlmICghbW91bnRlZEFwcHMubGVuZ3RoKSB7CiAgICAgIG5hdmlnYXRlVG9VcmwoZGVmYXVsdEFwcExpbmspOwogICAgfQoKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzaW5nbGUtc3BhOm5vLWFwcC1jaGFuZ2UnLCBsaXN0ZW5lcik7CiAgfSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHJ1bkRlZmF1bHRNb3VudEVmZmVjdHMoZGVmYXVsdEFwcExpbmspIHsKICBjb25zb2xlLndhcm4oJ1txaWFua3VuXSBydW5EZWZhdWx0TW91bnRFZmZlY3RzIHdpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IHZlcnNpb24sIHBsZWFzZSB1c2Ugc2V0RGVmYXVsdE1vdW50QXBwIGluc3RlYWQnKTsKICBzZXREZWZhdWx0TW91bnRBcHAoZGVmYXVsdEFwcExpbmspOwp9CmV4cG9ydCBmdW5jdGlvbiBydW5BZnRlckZpcnN0TW91bnRlZChlZmZlY3QpIHsKICAvLyBjYW4gbm90IHVzZSBhZGRFdmVudExpc3RlbmVyIG9uY2Ugb3B0aW9uIGZvciBpZSBzdXBwb3J0CiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3NpbmdsZS1zcGE6Zmlyc3QtbW91bnQnLCBmdW5jdGlvbiBsaXN0ZW5lcigpIHsKICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgICBjb25zb2xlLnRpbWVFbmQoZmlyc3RNb3VudExvZ0xhYmVsKTsKICAgIH0KCiAgICBlZmZlY3QoKTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzaW5nbGUtc3BhOmZpcnN0LW1vdW50JywgbGlzdGVuZXIpOwogIH0pOwp9"},{"version":3,"sources":["D:/qiankun微前台/Demo/qiankun/qiankun-base/node_modules/qiankun/es/effects.js"],"names":["getMountedApps","navigateToUrl","firstMountLogLabel","process","env","NODE_ENV","console","time","setDefaultMountApp","defaultAppLink","window","addEventListener","listener","mountedApps","length","removeEventListener","runDefaultMountEffects","warn","runAfterFirstMounted","effect","timeEnd"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,cAAT,EAAyBC,aAAzB,QAA8C,YAA9C;AACA,IAAIC,kBAAkB,GAAG,6BAAzB;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,EAAAA,OAAO,CAACC,IAAR,CAAaL,kBAAb;AACD;;AAED,OAAO,SAASM,kBAAT,CAA4BC,cAA5B,EAA4C;AACjD;AACAC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,0BAAxB,EAAoD,SAASC,QAAT,GAAoB;AACtE,QAAIC,WAAW,GAAGb,cAAc,EAAhC;;AAEA,QAAI,CAACa,WAAW,CAACC,MAAjB,EAAyB;AACvBb,MAAAA,aAAa,CAACQ,cAAD,CAAb;AACD;;AAEDC,IAAAA,MAAM,CAACK,mBAAP,CAA2B,0BAA3B,EAAuDH,QAAvD;AACD,GARD;AASD;AACD,OAAO,SAASI,sBAAT,CAAgCP,cAAhC,EAAgD;AACrDH,EAAAA,OAAO,CAACW,IAAR,CAAa,yGAAb;AACAT,EAAAA,kBAAkB,CAACC,cAAD,CAAlB;AACD;AACD,OAAO,SAASS,oBAAT,CAA8BC,MAA9B,EAAsC;AAC3C;AACAT,EAAAA,MAAM,CAACC,gBAAP,CAAwB,wBAAxB,EAAkD,SAASC,QAAT,GAAoB;AACpE,QAAIT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CC,MAAAA,OAAO,CAACc,OAAR,CAAgBlB,kBAAhB;AACD;;AAEDiB,IAAAA,MAAM;AACNT,IAAAA,MAAM,CAACK,mBAAP,CAA2B,wBAA3B,EAAqDH,QAArD;AACD,GAPD;AAQD","sourcesContent":["/**\n * @author Kuitos\n * @since 2019-02-19\n */\nimport { getMountedApps, navigateToUrl } from 'single-spa';\nvar firstMountLogLabel = '[qiankun] first app mounted';\n\nif (process.env.NODE_ENV === 'development') {\n  console.time(firstMountLogLabel);\n}\n\nexport function setDefaultMountApp(defaultAppLink) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:no-app-change', function listener() {\n    var mountedApps = getMountedApps();\n\n    if (!mountedApps.length) {\n      navigateToUrl(defaultAppLink);\n    }\n\n    window.removeEventListener('single-spa:no-app-change', listener);\n  });\n}\nexport function runDefaultMountEffects(defaultAppLink) {\n  console.warn('[qiankun] runDefaultMountEffects will be removed in next version, please use setDefaultMountApp instead');\n  setDefaultMountApp(defaultAppLink);\n}\nexport function runAfterFirstMounted(effect) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:first-mount', function listener() {\n    if (process.env.NODE_ENV === 'development') {\n      console.timeEnd(firstMountLogLabel);\n    }\n\n    effect();\n    window.removeEventListener('single-spa:first-mount', listener);\n  });\n}"]}]}