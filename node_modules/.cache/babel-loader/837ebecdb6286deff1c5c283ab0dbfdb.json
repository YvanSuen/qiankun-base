{"remainingRequest":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\babel-loader\\lib\\index.js!D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\import-html-entry\\esm\\utils.js","dependencies":[{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\import-html-entry\\esm\\utils.js","mtime":499162500000},{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618900774989},{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\babel-loader\\lib\\index.js","mtime":1618886346176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiOwovKioKICogQGF1dGhvciBLdWl0b3MKICogQGhvbWVwYWdlIGh0dHBzOi8vZ2l0aHViLmNvbS9rdWl0b3MvCiAqIEBzaW5jZSAyMDE5LTAyLTI1CiAqIGZvcmsgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc3lzdGVtanMvc3lzdGVtanMvYmxvYi9tYXN0ZXIvc3JjL2V4dHJhcy9nbG9iYWwuanMKICovCgp2YXIgaXNJRTExID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50JykgIT09IC0xOwoKZnVuY3Rpb24gc2hvdWxkU2tpcFByb3BlcnR5KGdsb2JhbCwgcCkgewogIGlmICghZ2xvYmFsLmhhc093blByb3BlcnR5KHApIHx8ICFpc05hTihwKSAmJiBwIDwgZ2xvYmFsLmxlbmd0aCkgcmV0dXJuIHRydWU7CgogIGlmIChpc0lFMTEpIHsKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rdWl0b3MvaW1wb3J0LWh0bWwtZW50cnkvcHVsbC8zMu+8jOacgOWwj+WMliB0cnkg6IyD5Zu0CiAgICB0cnkgewogICAgICByZXR1cm4gZ2xvYmFsW3BdICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbFtwXS5wYXJlbnQgPT09IHdpbmRvdzsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9IGVsc2UgewogICAgcmV0dXJuIGZhbHNlOwogIH0KfSAvLyBzYWZhcmkgdW5wcmVkaWN0YWJseSBsaXN0cyBzb21lIG5ldyBnbG9iYWxzIGZpcnN0IG9yIHNlY29uZCBpbiBvYmplY3Qgb3JkZXIKCgp2YXIgZmlyc3RHbG9iYWxQcm9wLCBzZWNvbmRHbG9iYWxQcm9wLCBsYXN0R2xvYmFsUHJvcDsKZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbFByb3AoZ2xvYmFsKSB7CiAgdmFyIGNudCA9IDA7CiAgdmFyIGxhc3RQcm9wOwogIHZhciBoYXNJZnJhbWUgPSBmYWxzZTsKCiAgZm9yICh2YXIgcCBpbiBnbG9iYWwpIHsKICAgIGlmIChzaG91bGRTa2lwUHJvcGVydHkoZ2xvYmFsLCBwKSkgY29udGludWU7IC8vIOmBjeWOhiBpZnJhbWXvvIzmo4Dmn6Ugd2luZG93IOS4iueahOWxnuaAp+WAvOaYr+WQpuaYryBpZnJhbWXvvIzmmK/liJnot7Pov4flkI7pnaLnmoQgZmlyc3Qg5ZKMIHNlY29uZCDliKTmlq0KCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdpbmRvdy5mcmFtZXMubGVuZ3RoICYmICFoYXNJZnJhbWU7IGkrKykgewogICAgICB2YXIgZnJhbWUgPSB3aW5kb3cuZnJhbWVzW2ldOwoKICAgICAgaWYgKGZyYW1lID09PSBnbG9iYWxbcF0pIHsKICAgICAgICBoYXNJZnJhbWUgPSB0cnVlOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgaWYgKCFoYXNJZnJhbWUgJiYgKGNudCA9PT0gMCAmJiBwICE9PSBmaXJzdEdsb2JhbFByb3AgfHwgY250ID09PSAxICYmIHAgIT09IHNlY29uZEdsb2JhbFByb3ApKSByZXR1cm4gcDsKICAgIGNudCsrOwogICAgbGFzdFByb3AgPSBwOwogIH0KCiAgaWYgKGxhc3RQcm9wICE9PSBsYXN0R2xvYmFsUHJvcCkgcmV0dXJuIGxhc3RQcm9wOwp9CmV4cG9ydCBmdW5jdGlvbiBub3RlR2xvYmFsUHJvcHMoZ2xvYmFsKSB7CiAgLy8gYWx0ZXJuYXRpdmVseSBPYmplY3Qua2V5cyhnbG9iYWwpLnBvcCgpCiAgLy8gYnV0IHRoaXMgbWF5IGJlIGZhc3RlciAocGVuZGluZyBiZW5jaG1hcmtzKQogIGZpcnN0R2xvYmFsUHJvcCA9IHNlY29uZEdsb2JhbFByb3AgPSB1bmRlZmluZWQ7CgogIGZvciAodmFyIHAgaW4gZ2xvYmFsKSB7CiAgICBpZiAoc2hvdWxkU2tpcFByb3BlcnR5KGdsb2JhbCwgcCkpIGNvbnRpbnVlOwogICAgaWYgKCFmaXJzdEdsb2JhbFByb3ApIGZpcnN0R2xvYmFsUHJvcCA9IHA7ZWxzZSBpZiAoIXNlY29uZEdsb2JhbFByb3ApIHNlY29uZEdsb2JhbFByb3AgPSBwOwogICAgbGFzdEdsb2JhbFByb3AgPSBwOwogIH0KCiAgcmV0dXJuIGxhc3RHbG9iYWxQcm9wOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRJbmxpbmVDb2RlKG1hdGNoKSB7CiAgdmFyIHN0YXJ0ID0gbWF0Y2guaW5kZXhPZignPicpICsgMTsKICB2YXIgZW5kID0gbWF0Y2gubGFzdEluZGV4T2YoJzwnKTsKICByZXR1cm4gbWF0Y2guc3Vic3RyaW5nKHN0YXJ0LCBlbmQpOwp9CmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0R2V0UHVibGljUGF0aChlbnRyeSkgewogIGlmIChfdHlwZW9mKGVudHJ5KSA9PT0gJ29iamVjdCcpIHsKICAgIHJldHVybiAnLyc7CiAgfQoKICB0cnkgewogICAgLy8gVVJMIOaehOmAoOWHveaVsOS4jeaUr+aMgeS9v+eUqCAvLyDliY3nvIDnmoQgdXJsCiAgICB2YXIgX1VSTCA9IG5ldyBVUkwoZW50cnkuc3RhcnRzV2l0aCgnLy8nKSA/ICIiLmNvbmNhdChsb2NhdGlvbi5wcm90b2NvbCkuY29uY2F0KGVudHJ5KSA6IGVudHJ5LCBsb2NhdGlvbi5ocmVmKSwKICAgICAgICBvcmlnaW4gPSBfVVJMLm9yaWdpbiwKICAgICAgICBwYXRobmFtZSA9IF9VUkwucGF0aG5hbWU7CgogICAgdmFyIHBhdGhzID0gcGF0aG5hbWUuc3BsaXQoJy8nKTsgLy8g56e76Zmk5pyA5ZCO5LiA5Liq5YWD57SgCgogICAgcGF0aHMucG9wKCk7CiAgICByZXR1cm4gIiIuY29uY2F0KG9yaWdpbikuY29uY2F0KHBhdGhzLmpvaW4oJy8nKSwgIi8iKTsKICB9IGNhdGNoIChlKSB7CiAgICBjb25zb2xlLndhcm4oZSk7CiAgICByZXR1cm4gJyc7CiAgfQp9IC8vIERldGVjdCB3aGV0aGVyIGJyb3dzZXIgc3VwcG9ydHMgYDxzY3JpcHQgdHlwZT1tb2R1bGU+YCBvciBub3QKCmV4cG9ydCBmdW5jdGlvbiBpc01vZHVsZVNjcmlwdFN1cHBvcnRlZCgpIHsKICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogIHJldHVybiAnbm9Nb2R1bGUnIGluIHM7Cn0gLy8gUklDIGFuZCBzaGltIGZvciBicm93c2VycyBzZXRUaW1lb3V0KCkgd2l0aG91dCBpdAoKZXhwb3J0IHZhciByZXF1ZXN0SWRsZUNhbGxiYWNrID0gd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2sgfHwgZnVuY3Rpb24gcmVxdWVzdElkbGVDYWxsYmFjayhjYikgewogIHZhciBzdGFydCA9IERhdGUubm93KCk7CiAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgY2IoewogICAgICBkaWRUaW1lb3V0OiBmYWxzZSwKICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24gdGltZVJlbWFpbmluZygpIHsKICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgNTAgLSAoRGF0ZS5ub3coKSAtIHN0YXJ0KSk7CiAgICAgIH0KICAgIH0pOwogIH0sIDEpOwp9OwpleHBvcnQgZnVuY3Rpb24gcmVhZFJlc0FzU3RyaW5nKHJlc3BvbnNlLCBhdXRvRGV0ZWN0Q2hhcnNldCkgewogIC8vIOacquWQr+eUqOiHquWKqOajgOa1iwogIGlmICghYXV0b0RldGVjdENoYXJzZXQpIHsKICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7CiAgfSAvLyDlpoLmnpzmsqFoZWFkZXJz77yM5Y+R55Sf5ZyodGVzdOeOr+Wig+S4i+eahG1vY2vmlbDmja7vvIzkuLrlhbzlrrnljp/mnInmtYvor5XnlKjkvosKCgogIGlmICghcmVzcG9uc2UuaGVhZGVycykgewogICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTsKICB9IC8vIOWmguaenOayoei/lOWbnmNvbnRlbnQtdHlwZe+8jOi1sOm7mOiupOmAu+i+kQoKCiAgdmFyIGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpOwoKICBpZiAoIWNvbnRlbnRUeXBlKSB7CiAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpOwogIH0gLy8g6Kej5p6QY29udGVudC10eXBl5YaF55qEY2hhcnNldAogIC8vIENvbnRlbnQtVHlwZTogdGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04CiAgLy8gQ29udGVudC1UeXBlOiBtdWx0aXBhcnQvZm9ybS1kYXRhOyBib3VuZGFyeT1zb21ldGhpbmcKICAvLyBHRVTor7fmsYLkuIvkuI3kvJrlh7rnjrDnrKzkuoznp41jb250ZW50LXR5cGUKCgogIHZhciBjaGFyc2V0ID0gJ3V0Zi04JzsKICB2YXIgcGFydHMgPSBjb250ZW50VHlwZS5zcGxpdCgnOycpOwoKICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICB2YXIgX3BhcnRzJDEkc3BsaXQgPSBwYXJ0c1sxXS5zcGxpdCgnPScpLAogICAgICAgIF9wYXJ0cyQxJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9wYXJ0cyQxJHNwbGl0LCAyKSwKICAgICAgICB2YWx1ZSA9IF9wYXJ0cyQxJHNwbGl0MlsxXTsKCiAgICB2YXIgZW5jb2RpbmcgPSB2YWx1ZSAmJiB2YWx1ZS50cmltKCk7CgogICAgaWYgKGVuY29kaW5nKSB7CiAgICAgIGNoYXJzZXQgPSBlbmNvZGluZzsKICAgIH0KICB9IC8vIOWmguaenOi/mOaYr3V0Zi0477yM6YKj5LmI6LWw6buY6K6k77yM5YW85a655Y6f5pyJ6YC76L6R77yM6L+Z5q615Luj56CB5Yig6Zmk5Lmf5bqU6K+l5bel5L2cCgoKICBpZiAoY2hhcnNldC50b1VwcGVyQ2FzZSgpID09PSAnVVRGLTgnKSB7CiAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpOwogIH0gLy8g6LWw5rWB6K+75Y+W77yM57yW56CB5Y+v6IO95pivZ2Jr77yMZ2IyMzEy562J77yM5q+U5aaCc29mYSAz6buY6K6k5pivZ2Jr57yW56CBCgoKICByZXR1cm4gcmVzcG9uc2UuYmxvYigpLnRoZW4oZnVuY3Rpb24gKGZpbGUpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciByZWFkZXIgPSBuZXcgd2luZG93LkZpbGVSZWFkZXIoKTsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0OwogICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlLCBjaGFyc2V0KTsKICAgIH0pOwogIH0pOwp9"},{"version":3,"sources":["D:/qiankun微前台/Demo/qiankun/qiankun-base/node_modules/import-html-entry/esm/utils.js"],"names":["_slicedToArray","_typeof","isIE11","navigator","userAgent","indexOf","shouldSkipProperty","global","p","hasOwnProperty","isNaN","length","window","parent","err","firstGlobalProp","secondGlobalProp","lastGlobalProp","getGlobalProp","cnt","lastProp","hasIframe","i","frames","frame","noteGlobalProps","undefined","getInlineCode","match","start","end","lastIndexOf","substring","defaultGetPublicPath","entry","_URL","URL","startsWith","concat","location","protocol","href","origin","pathname","paths","split","pop","join","e","console","warn","isModuleScriptSupported","s","document","createElement","requestIdleCallback","cb","Date","now","setTimeout","didTimeout","timeRemaining","Math","max","readResAsString","response","autoDetectCharset","text","headers","contentType","get","charset","parts","_parts$1$split","_parts$1$split2","value","encoding","trim","toUpperCase","blob","then","file","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsText"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\n\n/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2019-02-25\n * fork from https://github.com/systemjs/systemjs/blob/master/src/extras/global.js\n */\nvar isIE11 = typeof navigator !== 'undefined' && navigator.userAgent.indexOf('Trident') !== -1;\n\nfunction shouldSkipProperty(global, p) {\n  if (!global.hasOwnProperty(p) || !isNaN(p) && p < global.length) return true;\n\n  if (isIE11) {\n    // https://github.com/kuitos/import-html-entry/pull/32，最小化 try 范围\n    try {\n      return global[p] && typeof window !== 'undefined' && global[p].parent === window;\n    } catch (err) {\n      return true;\n    }\n  } else {\n    return false;\n  }\n} // safari unpredictably lists some new globals first or second in object order\n\n\nvar firstGlobalProp, secondGlobalProp, lastGlobalProp;\nexport function getGlobalProp(global) {\n  var cnt = 0;\n  var lastProp;\n  var hasIframe = false;\n\n  for (var p in global) {\n    if (shouldSkipProperty(global, p)) continue; // 遍历 iframe，检查 window 上的属性值是否是 iframe，是则跳过后面的 first 和 second 判断\n\n    for (var i = 0; i < window.frames.length && !hasIframe; i++) {\n      var frame = window.frames[i];\n\n      if (frame === global[p]) {\n        hasIframe = true;\n        break;\n      }\n    }\n\n    if (!hasIframe && (cnt === 0 && p !== firstGlobalProp || cnt === 1 && p !== secondGlobalProp)) return p;\n    cnt++;\n    lastProp = p;\n  }\n\n  if (lastProp !== lastGlobalProp) return lastProp;\n}\nexport function noteGlobalProps(global) {\n  // alternatively Object.keys(global).pop()\n  // but this may be faster (pending benchmarks)\n  firstGlobalProp = secondGlobalProp = undefined;\n\n  for (var p in global) {\n    if (shouldSkipProperty(global, p)) continue;\n    if (!firstGlobalProp) firstGlobalProp = p;else if (!secondGlobalProp) secondGlobalProp = p;\n    lastGlobalProp = p;\n  }\n\n  return lastGlobalProp;\n}\nexport function getInlineCode(match) {\n  var start = match.indexOf('>') + 1;\n  var end = match.lastIndexOf('<');\n  return match.substring(start, end);\n}\nexport function defaultGetPublicPath(entry) {\n  if (_typeof(entry) === 'object') {\n    return '/';\n  }\n\n  try {\n    // URL 构造函数不支持使用 // 前缀的 url\n    var _URL = new URL(entry.startsWith('//') ? \"\".concat(location.protocol).concat(entry) : entry, location.href),\n        origin = _URL.origin,\n        pathname = _URL.pathname;\n\n    var paths = pathname.split('/'); // 移除最后一个元素\n\n    paths.pop();\n    return \"\".concat(origin).concat(paths.join('/'), \"/\");\n  } catch (e) {\n    console.warn(e);\n    return '';\n  }\n} // Detect whether browser supports `<script type=module>` or not\n\nexport function isModuleScriptSupported() {\n  var s = document.createElement('script');\n  return 'noModule' in s;\n} // RIC and shim for browsers setTimeout() without it\n\nexport var requestIdleCallback = window.requestIdleCallback || function requestIdleCallback(cb) {\n  var start = Date.now();\n  return setTimeout(function () {\n    cb({\n      didTimeout: false,\n      timeRemaining: function timeRemaining() {\n        return Math.max(0, 50 - (Date.now() - start));\n      }\n    });\n  }, 1);\n};\nexport function readResAsString(response, autoDetectCharset) {\n  // 未启用自动检测\n  if (!autoDetectCharset) {\n    return response.text();\n  } // 如果没headers，发生在test环境下的mock数据，为兼容原有测试用例\n\n\n  if (!response.headers) {\n    return response.text();\n  } // 如果没返回content-type，走默认逻辑\n\n\n  var contentType = response.headers.get('Content-Type');\n\n  if (!contentType) {\n    return response.text();\n  } // 解析content-type内的charset\n  // Content-Type: text/html; charset=utf-8\n  // Content-Type: multipart/form-data; boundary=something\n  // GET请求下不会出现第二种content-type\n\n\n  var charset = 'utf-8';\n  var parts = contentType.split(';');\n\n  if (parts.length === 2) {\n    var _parts$1$split = parts[1].split('='),\n        _parts$1$split2 = _slicedToArray(_parts$1$split, 2),\n        value = _parts$1$split2[1];\n\n    var encoding = value && value.trim();\n\n    if (encoding) {\n      charset = encoding;\n    }\n  } // 如果还是utf-8，那么走默认，兼容原有逻辑，这段代码删除也应该工作\n\n\n  if (charset.toUpperCase() === 'UTF-8') {\n    return response.text();\n  } // 走流读取，编码可能是gbk，gb2312等，比如sofa 3默认是gbk编码\n\n\n  return response.blob().then(function (file) {\n    return new Promise(function (resolve, reject) {\n      var reader = new window.FileReader();\n\n      reader.onload = function () {\n        resolve(reader.result);\n      };\n\n      reader.onerror = reject;\n      reader.readAsText(file, charset);\n    });\n  });\n}"]}]}