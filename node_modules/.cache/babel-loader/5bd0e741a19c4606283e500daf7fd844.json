{"remainingRequest":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\babel-loader\\lib\\index.js!D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\qiankun\\es\\sandbox\\patchers\\index.js","dependencies":[{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\qiankun\\es\\sandbox\\patchers\\index.js","mtime":1631881155000},{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618900774989},{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\babel-loader\\lib\\index.js","mtime":1618886346176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Ci8qKgogKiBAYXV0aG9yIEt1aXRvcwogKiBAc2luY2UgMjAxOS0wNC0xMQogKi8KCmltcG9ydCB7IFNhbmRCb3hUeXBlIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcyc7CmltcG9ydCAqIGFzIGNzcyBmcm9tICcuL2Nzcyc7CmltcG9ydCB7IHBhdGNoTG9vc2VTYW5kYm94LCBwYXRjaFN0cmljdFNhbmRib3ggfSBmcm9tICcuL2R5bmFtaWNBcHBlbmQnOwppbXBvcnQgcGF0Y2hIaXN0b3J5TGlzdGVuZXIgZnJvbSAnLi9oaXN0b3J5TGlzdGVuZXInOwppbXBvcnQgcGF0Y2hJbnRlcnZhbCBmcm9tICcuL2ludGVydmFsJzsKaW1wb3J0IHBhdGNoV2luZG93TGlzdGVuZXIgZnJvbSAnLi93aW5kb3dMaXN0ZW5lcic7CmV4cG9ydCBmdW5jdGlvbiBwYXRjaEF0TW91bnRpbmcoYXBwTmFtZSwgZWxlbWVudEdldHRlciwgc2FuZGJveCwgc2NvcGVkQ1NTLCBleGNsdWRlQXNzZXRGaWx0ZXIpIHsKICB2YXIgX3BhdGNoZXJzSW5TYW5kYm94OwoKICB2YXIgX2E7CgogIHZhciBiYXNlUGF0Y2hlcnMgPSBbZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHBhdGNoSW50ZXJ2YWwoc2FuZGJveC5wcm94eSk7CiAgfSwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHBhdGNoV2luZG93TGlzdGVuZXIoc2FuZGJveC5wcm94eSk7CiAgfSwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHBhdGNoSGlzdG9yeUxpc3RlbmVyKCk7CiAgfV07CiAgdmFyIHBhdGNoZXJzSW5TYW5kYm94ID0gKF9wYXRjaGVyc0luU2FuZGJveCA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX3BhdGNoZXJzSW5TYW5kYm94LCBTYW5kQm94VHlwZS5MZWdhY3lQcm94eSwgW10uY29uY2F0KGJhc2VQYXRjaGVycywgW2Z1bmN0aW9uICgpIHsKICAgIHJldHVybiBwYXRjaExvb3NlU2FuZGJveChhcHBOYW1lLCBlbGVtZW50R2V0dGVyLCBzYW5kYm94LnByb3h5LCB0cnVlLCBzY29wZWRDU1MsIGV4Y2x1ZGVBc3NldEZpbHRlcik7CiAgfV0pKSwgX2RlZmluZVByb3BlcnR5KF9wYXRjaGVyc0luU2FuZGJveCwgU2FuZEJveFR5cGUuUHJveHksIFtdLmNvbmNhdChiYXNlUGF0Y2hlcnMsIFtmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gcGF0Y2hTdHJpY3RTYW5kYm94KGFwcE5hbWUsIGVsZW1lbnRHZXR0ZXIsIHNhbmRib3gucHJveHksIHRydWUsIHNjb3BlZENTUywgZXhjbHVkZUFzc2V0RmlsdGVyKTsKICB9XSkpLCBfZGVmaW5lUHJvcGVydHkoX3BhdGNoZXJzSW5TYW5kYm94LCBTYW5kQm94VHlwZS5TbmFwc2hvdCwgW10uY29uY2F0KGJhc2VQYXRjaGVycywgW2Z1bmN0aW9uICgpIHsKICAgIHJldHVybiBwYXRjaExvb3NlU2FuZGJveChhcHBOYW1lLCBlbGVtZW50R2V0dGVyLCBzYW5kYm94LnByb3h5LCB0cnVlLCBzY29wZWRDU1MsIGV4Y2x1ZGVBc3NldEZpbHRlcik7CiAgfV0pKSwgX3BhdGNoZXJzSW5TYW5kYm94KTsKICByZXR1cm4gKF9hID0gcGF0Y2hlcnNJblNhbmRib3hbc2FuZGJveC50eXBlXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcChmdW5jdGlvbiAocGF0Y2gpIHsKICAgIHJldHVybiBwYXRjaCgpOwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBwYXRjaEF0Qm9vdHN0cmFwcGluZyhhcHBOYW1lLCBlbGVtZW50R2V0dGVyLCBzYW5kYm94LCBzY29wZWRDU1MsIGV4Y2x1ZGVBc3NldEZpbHRlcikgewogIHZhciBfcGF0Y2hlcnNJblNhbmRib3gyOwoKICB2YXIgX2E7CgogIHZhciBwYXRjaGVyc0luU2FuZGJveCA9IChfcGF0Y2hlcnNJblNhbmRib3gyID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfcGF0Y2hlcnNJblNhbmRib3gyLCBTYW5kQm94VHlwZS5MZWdhY3lQcm94eSwgW2Z1bmN0aW9uICgpIHsKICAgIHJldHVybiBwYXRjaExvb3NlU2FuZGJveChhcHBOYW1lLCBlbGVtZW50R2V0dGVyLCBzYW5kYm94LnByb3h5LCBmYWxzZSwgc2NvcGVkQ1NTLCBleGNsdWRlQXNzZXRGaWx0ZXIpOwogIH1dKSwgX2RlZmluZVByb3BlcnR5KF9wYXRjaGVyc0luU2FuZGJveDIsIFNhbmRCb3hUeXBlLlByb3h5LCBbZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHBhdGNoU3RyaWN0U2FuZGJveChhcHBOYW1lLCBlbGVtZW50R2V0dGVyLCBzYW5kYm94LnByb3h5LCBmYWxzZSwgc2NvcGVkQ1NTLCBleGNsdWRlQXNzZXRGaWx0ZXIpOwogIH1dKSwgX2RlZmluZVByb3BlcnR5KF9wYXRjaGVyc0luU2FuZGJveDIsIFNhbmRCb3hUeXBlLlNuYXBzaG90LCBbZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHBhdGNoTG9vc2VTYW5kYm94KGFwcE5hbWUsIGVsZW1lbnRHZXR0ZXIsIHNhbmRib3gucHJveHksIGZhbHNlLCBzY29wZWRDU1MsIGV4Y2x1ZGVBc3NldEZpbHRlcik7CiAgfV0pLCBfcGF0Y2hlcnNJblNhbmRib3gyKTsKICByZXR1cm4gKF9hID0gcGF0Y2hlcnNJblNhbmRib3hbc2FuZGJveC50eXBlXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcChmdW5jdGlvbiAocGF0Y2gpIHsKICAgIHJldHVybiBwYXRjaCgpOwogIH0pOwp9CmV4cG9ydCB7IGNzcyB9Ow=="},{"version":3,"sources":["D:/qiankun微前台/Demo/qiankun/qiankun-base/node_modules/qiankun/es/sandbox/patchers/index.js"],"names":["_defineProperty","SandBoxType","css","patchLooseSandbox","patchStrictSandbox","patchHistoryListener","patchInterval","patchWindowListener","patchAtMounting","appName","elementGetter","sandbox","scopedCSS","excludeAssetFilter","_patchersInSandbox","_a","basePatchers","proxy","patchersInSandbox","LegacyProxy","concat","Proxy","Snapshot","type","map","patch","patchAtBootstrapping","_patchersInSandbox2"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\n/**\n * @author Kuitos\n * @since 2019-04-11\n */\nimport { SandBoxType } from '../../interfaces';\nimport * as css from './css';\nimport { patchLooseSandbox, patchStrictSandbox } from './dynamicAppend';\nimport patchHistoryListener from './historyListener';\nimport patchInterval from './interval';\nimport patchWindowListener from './windowListener';\nexport function patchAtMounting(appName, elementGetter, sandbox, scopedCSS, excludeAssetFilter) {\n  var _patchersInSandbox;\n\n  var _a;\n\n  var basePatchers = [function () {\n    return patchInterval(sandbox.proxy);\n  }, function () {\n    return patchWindowListener(sandbox.proxy);\n  }, function () {\n    return patchHistoryListener();\n  }];\n  var patchersInSandbox = (_patchersInSandbox = {}, _defineProperty(_patchersInSandbox, SandBoxType.LegacyProxy, [].concat(basePatchers, [function () {\n    return patchLooseSandbox(appName, elementGetter, sandbox.proxy, true, scopedCSS, excludeAssetFilter);\n  }])), _defineProperty(_patchersInSandbox, SandBoxType.Proxy, [].concat(basePatchers, [function () {\n    return patchStrictSandbox(appName, elementGetter, sandbox.proxy, true, scopedCSS, excludeAssetFilter);\n  }])), _defineProperty(_patchersInSandbox, SandBoxType.Snapshot, [].concat(basePatchers, [function () {\n    return patchLooseSandbox(appName, elementGetter, sandbox.proxy, true, scopedCSS, excludeAssetFilter);\n  }])), _patchersInSandbox);\n  return (_a = patchersInSandbox[sandbox.type]) === null || _a === void 0 ? void 0 : _a.map(function (patch) {\n    return patch();\n  });\n}\nexport function patchAtBootstrapping(appName, elementGetter, sandbox, scopedCSS, excludeAssetFilter) {\n  var _patchersInSandbox2;\n\n  var _a;\n\n  var patchersInSandbox = (_patchersInSandbox2 = {}, _defineProperty(_patchersInSandbox2, SandBoxType.LegacyProxy, [function () {\n    return patchLooseSandbox(appName, elementGetter, sandbox.proxy, false, scopedCSS, excludeAssetFilter);\n  }]), _defineProperty(_patchersInSandbox2, SandBoxType.Proxy, [function () {\n    return patchStrictSandbox(appName, elementGetter, sandbox.proxy, false, scopedCSS, excludeAssetFilter);\n  }]), _defineProperty(_patchersInSandbox2, SandBoxType.Snapshot, [function () {\n    return patchLooseSandbox(appName, elementGetter, sandbox.proxy, false, scopedCSS, excludeAssetFilter);\n  }]), _patchersInSandbox2);\n  return (_a = patchersInSandbox[sandbox.type]) === null || _a === void 0 ? void 0 : _a.map(function (patch) {\n    return patch();\n  });\n}\nexport { css };"]}]}