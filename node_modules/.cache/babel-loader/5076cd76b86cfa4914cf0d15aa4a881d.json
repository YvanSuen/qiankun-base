{"remainingRequest":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\babel-loader\\lib\\index.js!D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\qiankun\\es\\addons\\runtimePublicPath.js","dependencies":[{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\qiankun\\es\\addons\\runtimePublicPath.js","mtime":1631881155000},{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618900774989},{"path":"D:\\qiankun微前台\\Demo\\qiankun\\qiankun-base\\node_modules\\babel-loader\\lib\\index.js","mtime":1618886346176}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgeyBfX2F3YWl0ZXIgfSBmcm9tICJ0c2xpYiI7CnZhciByYXdQdWJsaWNQYXRoID0gd2luZG93Ll9fSU5KRUNURURfUFVCTElDX1BBVEhfQllfUUlBTktVTl9fOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRBZGRPbihnbG9iYWwpIHsKICB2YXIgcHVibGljUGF0aCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJy8nOwogIHZhciBoYXNNb3VudGVkT25jZSA9IGZhbHNlOwogIHJldHVybiB7CiAgICBiZWZvcmVMb2FkOiBmdW5jdGlvbiBiZWZvcmVMb2FkKCkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgICAgICAgICAgICAgZ2xvYmFsLl9fSU5KRUNURURfUFVCTElDX1BBVEhfQllfUUlBTktVTl9fID0gcHVibGljUGF0aDsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoaGFzTW91bnRlZE9uY2UpIHsKICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduCiAgICAgICAgICAgICAgICAgIGdsb2JhbC5fX0lOSkVDVEVEX1BVQkxJQ19QQVRIX0JZX1FJQU5LVU5fXyA9IHB1YmxpY1BhdGg7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKICAgIH0sCiAgICBiZWZvcmVVbm1vdW50OiBmdW5jdGlvbiBiZWZvcmVVbm1vdW50KCkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHJhd1B1YmxpY1BhdGggPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KICAgICAgICAgICAgICAgICAgZGVsZXRlIGdsb2JhbC5fX0lOSkVDVEVEX1BVQkxJQ19QQVRIX0JZX1FJQU5LVU5fXzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgICAgICAgICAgICAgICBnbG9iYWwuX19JTkpFQ1RFRF9QVUJMSUNfUEFUSF9CWV9RSUFOS1VOX18gPSByYXdQdWJsaWNQYXRoOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGhhc01vdW50ZWRPbmNlID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwogICAgfQogIH07Cn0="},{"version":3,"sources":["D:/qiankun微前台/Demo/qiankun/qiankun-base/node_modules/qiankun/es/addons/runtimePublicPath.js"],"names":["_regeneratorRuntime","__awaiter","rawPublicPath","window","__INJECTED_PUBLIC_PATH_BY_QIANKUN__","getAddOn","global","publicPath","arguments","length","undefined","hasMountedOnce","beforeLoad","mark","_callee","wrap","_callee$","_context","prev","next","stop","beforeMount","_callee2","_callee2$","_context2","beforeUnmount","_callee3","_callee3$","_context3"],"mappings":"AAAA,OAAOA,mBAAP,MAAgC,4BAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,IAAIC,aAAa,GAAGC,MAAM,CAACC,mCAA3B;AACA,eAAe,SAASC,QAAT,CAAkBC,MAAlB,EAA0B;AACvC,MAAIC,UAAU,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,GAArF;AACA,MAAIG,cAAc,GAAG,KAArB;AACA,SAAO;AACLC,IAAAA,UAAU,EAAE,SAASA,UAAT,GAAsB;AAChC,aAAOX,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAaD,mBAAmB,CAACa,IAApB,CAAyB,SAASC,OAAT,GAAmB;AAC9F,eAAOd,mBAAmB,CAACe,IAApB,CAAyB,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AAC1D,iBAAO,CAAP,EAAU;AACR,oBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,mBAAK,CAAL;AACE;AACAb,gBAAAA,MAAM,CAACF,mCAAP,GAA6CG,UAA7C;;AAEF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOU,QAAQ,CAACG,IAAT,EAAP;AAPJ;AASD;AACF,SAZM,EAYJN,OAZI,CAAP;AAaD,OAdmD,CAApC,CAAhB;AAeD,KAjBI;AAkBLO,IAAAA,WAAW,EAAE,SAASA,WAAT,GAAuB;AAClC,aAAOpB,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAaD,mBAAmB,CAACa,IAApB,CAAyB,SAASS,QAAT,GAAoB;AAC/F,eAAOtB,mBAAmB,CAACe,IAApB,CAAyB,SAASQ,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAACN,IAAV,GAAiBM,SAAS,CAACL,IAAnC;AACE,mBAAK,CAAL;AACE,oBAAIR,cAAJ,EAAoB;AAClB;AACAL,kBAAAA,MAAM,CAACF,mCAAP,GAA6CG,UAA7C;AACD;;AAEH,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOiB,SAAS,CAACJ,IAAV,EAAP;AATJ;AAWD;AACF,SAdM,EAcJE,QAdI,CAAP;AAeD,OAhBmD,CAApC,CAAhB;AAiBD,KApCI;AAqCLG,IAAAA,aAAa,EAAE,SAASA,aAAT,GAAyB;AACtC,aAAOxB,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAaD,mBAAmB,CAACa,IAApB,CAAyB,SAASa,QAAT,GAAoB;AAC/F,eAAO1B,mBAAmB,CAACe,IAApB,CAAyB,SAASY,SAAT,CAAmBC,SAAnB,EAA8B;AAC5D,iBAAO,CAAP,EAAU;AACR,oBAAQA,SAAS,CAACV,IAAV,GAAiBU,SAAS,CAACT,IAAnC;AACE,mBAAK,CAAL;AACE,oBAAIjB,aAAa,KAAKQ,SAAtB,EAAiC;AAC/B;AACA,yBAAOJ,MAAM,CAACF,mCAAd;AACD,iBAHD,MAGO;AACL;AACAE,kBAAAA,MAAM,CAACF,mCAAP,GAA6CF,aAA7C;AACD;;AAEDS,gBAAAA,cAAc,GAAG,IAAjB;;AAEF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOiB,SAAS,CAACR,IAAV,EAAP;AAdJ;AAgBD;AACF,SAnBM,EAmBJM,QAnBI,CAAP;AAoBD,OArBmD,CAApC,CAAhB;AAsBD;AA5DI,GAAP;AA8DD","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { __awaiter } from \"tslib\";\nvar rawPublicPath = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\nexport default function getAddOn(global) {\n  var publicPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '/';\n  var hasMountedOnce = false;\n  return {\n    beforeLoad: function beforeLoad() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // eslint-disable-next-line no-param-reassign\n                global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = publicPath;\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    },\n    beforeMount: function beforeMount() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (hasMountedOnce) {\n                  // eslint-disable-next-line no-param-reassign\n                  global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = publicPath;\n                }\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n    },\n    beforeUnmount: function beforeUnmount() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (rawPublicPath === undefined) {\n                  // eslint-disable-next-line no-param-reassign\n                  delete global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\n                } else {\n                  // eslint-disable-next-line no-param-reassign\n                  global.__INJECTED_PUBLIC_PATH_BY_QIANKUN__ = rawPublicPath;\n                }\n\n                hasMountedOnce = true;\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n    }\n  };\n}"]}]}